# 🛡️ 老年人应急信息卡 (Elderly Emergency Card)

[![License](https://img.shields.io/github/license/shi-tou1234/card)](LICENSE)
[![Platform](https://img.shields.io/badge/Platform-WeChat%20Mini%20Program-07C160)](https://mp.weixin.qq.com/)
[![Version](https://img.shields.io/badge/Version-1.0.0-blue)](https://github.com/shi-tou1234/card/releases)

**老年人应急信息卡** 是一款专为银发群体设计的微信小程序。通过数字化手段，将老人的基本信息、健康状况及紧急联系人编码为专属二维码。

在老人遇到突发状况（如走失、身体不适）时，好心人或医护人员只需扫描二维码，即可快速获取关键救助信息并一键联系家属，为生命救援争取黄金时间。

---

## ✨ 功能特性

### 📝 智能信息管理
- **基础档案**：姓名、年龄、血型等基本识别信息。
- **健康画像**：详细记录过敏史、慢性病/基础疾病、当前服用药物。
- **居住信息**：家庭住址及常用位置，方便送回。
- **紧急联系**：支持配置多位紧急联系人，清晰标注关系与电话。

### 🖼️ 离线二维码生成
- **即时编码**：将填写的隐私数据本地编码为 QR Code。
- **持久保存**：支持将生成的二维码卡片保存至手机相册。
- **物理备份**：推荐打印二维码制作成实体挂件或钱包卡片，多重保障。

### 🔍 快速救助响应
- **扫码即读**：任意微信扫码即可展示结构化的应急视图。
- **高亮预警**：对过敏史等生命攸关信息进行红色加粗提醒。
- **快捷拨号**：支持一键拨打紧急联系人或 120/110/119 应急电话。

### 🔒 极致隐私保护
- **数据本地化**：所有数据均存储在手机本地 `wx.setStorageSync`，不上传任何服务器。
- **离线运行**：生成二维码过程无需网络参与，彻底杜绝数据泄露风险。

---

## 📂 项目结构

```text
.
├── app.js               # 小程序入口逻辑
├── app.json             # 全局页面与窗口配置
├── app.wxss             # 全局公用样式
├── project.config.json  # 微信开发者工具项目配置
├── sitemap.json         # 微信搜索索引配置
├── pages/               # 页面目录
│   ├── index/           # 首页：功能入口与使用引导
│   ├── form/            # 信息录入页：表单校验与数据持久化
│   ├── preview/         # 卡片预览页：Canvas 绘制二维码与保存
│   └── scan/            # 救助显示页：扫码后展示的应急视图
├── utils/               # 工具类
│   ├── qrcode.js        # 核心：纯 JS 实现的二维码生成引擎
│   └── util.js          # 时间格式化、字符处理等通用工具
└── README.md            # 项目说明文档
```

---

## 🚀 快速开始

### 1. 环境准备
- 下载并安装 [微信开发者工具](https://developers.weixin.qq.com/miniprogram/dev/devtools/download.html)。
- 准备一个微信小程序 AppID（或使用测试号）。

### 2. 导入运行
1. 克隆本项目到本地：
   ```bash
   git clone https://github.com/shi-tou1234/card.git
   ```
2. 打开微信开发者工具，点击 **"导入"**。
3. 选择项目根目录，填入 AppID。
4. 点击 **"编译"** 即可在模拟器预览。

### 3. 发布流程
1. 在开发者工具点击 **"上传"**。
2. 登录 [微信公众平台](https://mp.weixin.qq.com/) 提交审核。
3. 审核通过后发布正式版本。

---

## 🛠 技术实现要点

- **二维码引擎**：基于 `qrcode.js` 修改版，支持 UTF-8 中文编码及 Base64 数据封装。
- **数据交互**：使用 JSON 序列化配合特定的前缀协议 (`EMERGENCY_CARD:`)，确保扫码后的语义识别。
- **UI 组件**：采用原生 WXML/WXSS 构建，适配各类尺寸的老年手机屏幕。

---

## 📝 注意事项

1. **隐私申明**：本程序不收集用户隐私，生成的二维码包含个人敏感信息，请勿在公开平台展示。
2. **时效性**：建议老人健康状况或联系电话变更后，立即更新并重新生成二维码。
3. **物理备份**：建议将二维码打印并塑封，放置在老人随身携带的钱包、钥匙扣或缝制在衣服内侧。

---

## 🤝 贡献与反馈

欢迎通过 [Issues](https://github.com/shi-tou1234/card/issues) 提交建议或 Bug 反馈。
如果您觉得这个项目有意义，请点个 ⭐️ **Star** 支持一下！

## 📄 许可证

本项目采用 [MIT License](LICENSE) 开源。